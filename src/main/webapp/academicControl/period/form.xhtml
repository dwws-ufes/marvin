<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:p="http://primefaces.org/ui"
   xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
   xmlns:adm="http://github.com/adminfaces"
   template="/WEB-INF/templates/template.xhtml">
   <ui:define name="title">
      <h:outputText value="#{msgsAcademicControl['period.title.create']}" rendered="#{(! periodController.readOnly) and (periodController.selectedEntity.id == null)}" />
      <h:outputText value="#{msgsAcademicControl['period.title.update']}" rendered="#{(! periodController.readOnly) and (periodController.selectedEntity.id != null)}" />
      <h:outputText value="#{msgsAcademicControl['period.title.retrieve']}" rendered="#{periodController.readOnly}" />
   </ui:define>
   <ui:define name="description">
      <h:outputText value="#{msgsAcademicControl['period.title.create.description']}" rendered="#{(! periodController.readOnly) and (periodController.selectedEntity.id == null)}" />
      <h:outputText value="#{msgsAcademicControl['period.title.update.description']}" rendered="#{(! periodController.readOnly) and (periodController.selectedEntity.id != null)}" />
      <h:outputText value="#{msgsAcademicControl['period.title.retrieve.description']}" rendered="#{periodController.readOnly}" />
   </ui:define>
   <ui:define name="body">
      <!-- The breadcrumb. -->
      <adm:breadcrumb title="#{msgsAcademicControl['period.title']}" link="index.xhtml" />
      <!-- The form to be filled with information on the academic. -->
      <ui:decorate template="/WEB-INF/templates/form.xhtml">
         <ui:param name="formName" value="form" />
         <ui:param name="formLabel" value="#{msgsAcademicControl['period.form.title']}" />
         <p:focus />
         <!-- Field: name. -->
         <ui:decorate template="/WEB-INF/templates/formfield.xhtml">
            <ui:param name="fieldName" value="name" />
            <ui:param name="label" value="#{msgsAcademicControl['period.field.name']}" />
            <p:inputText id="name" value="#{periodController.selectedEntity.name}" required="true" pt:placeholder="#{msgsAcademicControl['period.field.name.placeholder']}" disabled="#{periodController.readOnly}">
            </p:inputText>
         </ui:decorate>
         <!-- Field: periodStartDate. -->
         <ui:decorate template="/WEB-INF/templates/formfield.xhtml">
            <ui:param name="fieldName" value="periodStartDate" />
            <ui:param name="label" value="#{msgsAcademicControl['period.field.periodStartDate']}" />
            <p:inputMask id="periodStartDate" mask="#{msgs['jbutler.format.date.primefaces']}" value="#{periodController.selectedEntity.periodStartDate}" required="true" disabled="#{periodController.readOnly}">
               <p:ajax event="blur" update="periodStartDate" />
               <f:convertDateTime type="date" pattern="#{msgs['jbutler.format.date.java']}" />
            </p:inputMask>
            <h:outputText value=" (#{msgs['jbutler.format.date.label']})" />
         </ui:decorate>
         <!-- Field: periodFinalDate. -->
         <ui:decorate template="/WEB-INF/templates/formfield.xhtml">
            <ui:param name="fieldName" value="periodFinalDate" />
            <ui:param name="label" value="#{msgsAcademicControl['period.field.periodFinalDate']}" />
            <p:inputMask id="periodFinalDate" mask="#{msgs['jbutler.format.date.primefaces']}" value="#{periodController.selectedEntity.periodFinalDate}" required="true" disabled="#{periodController.readOnly}">
               <p:ajax event="blur" update="periodFinalDate" />
               <f:convertDateTime type="date" pattern="#{msgs['jbutler.format.date.java']}" />
            </p:inputMask>
            <h:outputText value=" (#{msgs['jbutler.format.date.label']})" />
         </ui:decorate>
         <!-- Field: enrollmentStartDate. -->
         <ui:decorate template="/WEB-INF/templates/formfield.xhtml">
            <ui:param name="fieldName" value="enrollmentStartDate" />
            <ui:param name="label" value="#{msgsAcademicControl['period.field.enrollmentStartDate']}" />
            <p:inputMask id="enrollmentStartDate" mask="#{msgs['jbutler.format.date.primefaces']}" value="#{periodController.selectedEntity.enrollmentStartDate}" required="true" disabled="#{periodController.readOnly}">
               <p:ajax event="blur" update="enrollmentStartDate" />
               <f:convertDateTime type="date" pattern="#{msgs['jbutler.format.date.java']}" />
            </p:inputMask>
            <h:outputText value=" (#{msgs['jbutler.format.date.label']})" />
         </ui:decorate>
         <!-- Field: enrollmentFinalDate. -->
         <ui:decorate template="/WEB-INF/templates/formfield.xhtml">
            <ui:param name="fieldName" value="enrollmentFinalDate" />
            <ui:param name="label" value="#{msgsAcademicControl['period.field.enrollmentFinalDate']}" />
            <p:inputMask id="enrollmentFinalDate" mask="#{msgs['jbutler.format.date.primefaces']}" value="#{periodController.selectedEntity.enrollmentFinalDate}" required="true" disabled="#{periodController.readOnly}">
               <p:ajax event="blur" update="enrollmentFinalDate" />
               <f:convertDateTime type="date" pattern="#{msgs['jbutler.format.date.java']}" />
            </p:inputMask>
            <h:outputText value=" (#{msgs['jbutler.format.date.label']})" />
         </ui:decorate>
         <!-- Field: offerStartDate. -->
         <ui:decorate template="/WEB-INF/templates/formfield.xhtml">
            <ui:param name="fieldName" value="offerStartDate" />
            <ui:param name="label" value="#{msgsAcademicControl['period.field.offerStartDate']}" />
            <p:inputMask id="offerStartDate" mask="#{msgs['jbutler.format.date.primefaces']}" value="#{periodController.selectedEntity.offerStartDate}" required="true" disabled="#{periodController.readOnly}">
               <p:ajax event="blur" update="offerStartDate" />
               <f:convertDateTime type="date" pattern="#{msgs['jbutler.format.date.java']}" />
            </p:inputMask>
            <h:outputText value=" (#{msgs['jbutler.format.date.label']})" />
         </ui:decorate>
         <!-- Field: offerFinalDate. -->
         <ui:decorate template="/WEB-INF/templates/formfield.xhtml">
            <ui:param name="fieldName" value="offerFinalDate" />
            <ui:param name="label" value="#{msgsAcademicControl['period.field.offerFinalDate']}" />
            <p:inputMask id="offerFinalDate" mask="#{msgs['jbutler.format.date.primefaces']}" value="#{periodController.selectedEntity.offerFinalDate}" required="true" disabled="#{periodController.readOnly}">
               <p:ajax event="blur" update="offerFinalDate" />
               <f:convertDateTime type="date" pattern="#{msgs['jbutler.format.date.java']}" />
            </p:inputMask>
            <h:outputText value=" (#{msgs['jbutler.format.date.label']})" />
         </ui:decorate>
         <!-- Buttons shown below the form. -->
         <h:panelGroup rendered="#{! periodController.readOnly}">
            <ui:decorate template="/WEB-INF/templates/formbuttonpanel.xhtml">
               <p:commandButton id="cancelButton" action="#{periodController.list}" value="#{msgs['jbutler.crud.button.cancel']}" immediate="true" icon="fa fa-window-close" />
               <p:commandButton id="saveButton" action="#{periodController.save}" value="#{msgs['jbutler.crud.button.save']}" update=":form :messages :info-messages" icon="fa fa-fw fa-save" />
               <p:defaultCommand target="saveButton" />
            </ui:decorate>
         </h:panelGroup>
         <h:panelGroup rendered="#{periodController.readOnly}">
            <ui:decorate template="/WEB-INF/templates/formbuttonpanel.xhtml">
               <p:commandButton id="backButton" action="#{periodController.list}" value="#{msgs['jbutler.crud.button.back']}" immediate="true" icon="fa fa-arrow-circle-o-left" />
            </ui:decorate>
         </h:panelGroup>
      </ui:decorate>
   </ui:define>
</ui:composition>